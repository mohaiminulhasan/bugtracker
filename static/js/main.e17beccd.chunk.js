(this.webpackJsonpbugtracker=this.webpackJsonpbugtracker||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(15),s=n.n(a),o=(n(33),n(5)),i=n(28),l=(n(34),n(9)),u=n(3),d=n.n(u),j=n(6),b=n(4),p=n(1),h=Object(c.createContext)(),x=h.Provider,m=function(e){var t=e.children,n=Object(l.g)(),r=localStorage.getItem("token"),a=localStorage.getItem("expiresAt"),s=localStorage.getItem("userInfo"),o=Object(c.useState)({token:r,expiresAt:a,userInfo:s?JSON.parse(s):{}}),i=Object(b.a)(o,2),u=i[0],d=i[1],j=function(e){var t=e.token,n=e.expiresAt,c=e.userInfo;localStorage.setItem("token",t),localStorage.setItem("expiresAt",n),localStorage.setItem("userInfo",JSON.stringify(c)),d({token:t,expiresAt:n,userInfo:c})};return Object(p.jsx)(x,{value:{isAuthenticated:function(){return!(!u.token||!u.expiresAt)&&(console.log("expires at:",u.expiresAt),(new Date).getTime()/1e3<u.expiresAt)},authState:u,setAuthState:function(e){return j(e)},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("expiresAt"),d({token:null,expiresAt:null,userInfo:{}}),n.push("/")}},children:t})},f={login:function(e,t){return O.apply(this,arguments)}};function O(){return(O=Object(j.a)(d.a.mark((function e(t,n){var c,r,a,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="localhost"===window.location.hostname?"http://127.0.0.1:8000/api-token-auth/":"https://minigunnr.pythonanywhere.com/api-token-auth/",(r=new Headers).append("Content-Type","application/json"),a=new Request(c,{method:"POST",headers:r,body:JSON.stringify({username:t,password:n}),mode:"cors"}),e.next=6,fetch(a);case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(b.a)(a,2),o=s[0],i=s[1],u=Object(c.useContext)(h),x=Object(c.useState)(),m=Object(b.a)(x,2),O=m[0],g=m[1],v=Object(c.useState)(),w=Object(b.a)(v,2),y=w[0],k=w[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),C=S[0],T=S[1],I=Object(c.useState)(!1),E=Object(b.a)(I,2),A=E[0],z=E[1],D=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,T(!0),e.next=5,f.login(n,o);case 5:if(!(c=e.sent).non_field_errors){e.next=8;break}throw new Error(c.non_field_errors[0]);case 8:u.setAuthState(c),g(c.message),k(""),setTimeout((function(){z(!0)}),700),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),T(!1),k(e.t0.message),g(null);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),P="border-2 rounded border-indigo-600 my-1 px-1 w-full",R=function(e,t){r(e),i("userpass")};return Object(p.jsx)("div",{className:"flex h-screen",children:Object(p.jsxs)("div",{className:"border-2 rounded-lg p-5 m-auto mt-1/4 w-1/4 min-w-max",children:[A&&Object(p.jsx)(l.a,{to:"/home"}),Object(p.jsx)("p",{className:"font-bold text-indigo-600",children:"Sign In with your credentials"}),Object(p.jsx)("em",{children:O}),Object(p.jsx)("em",{children:y}),Object(p.jsxs)("form",{onSubmit:D,children:[Object(p.jsx)("input",{className:P,type:"text",onChange:function(e){return r(e.target.value)},value:n,name:"username",placeholder:"Username",required:!0,autoFocus:!0})," ",Object(p.jsx)("br",{}),Object(p.jsx)("input",{className:P,type:"password",onChange:function(e){return i(e.target.value)},value:o,name:"password",placeholder:"Password",required:!0})," ",Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"text-right",children:Object(p.jsx)("button",{className:"bg-white text-indigo-600 font-bold px-4 py-1 rounded border-2 border-indigo-300 hover:shadow-md",type:"submit",disabled:C,children:"Login"})})]}),Object(p.jsx)("button",{onClick:function(e){return R("owner")},className:"border-2 border-red-500 rounded px-2 py-1 bg-red-200 text-red-500 font-bold block m-1 w-1/2",children:"Login as Project Owner"}),Object(p.jsx)("button",{onClick:function(){return R("developer")},className:"border-2 border-gray-500 rounded px-2 py-1 bg-gray-200 text-gray-500 font-bold block m-1 w-1/2",children:"Login as Project Developer"})]})})},v=n(13),w=function(e){return Object(p.jsxs)("div",{className:"BOARD-HEADER flex justify-between items-center py-2 text-gray-500",children:[Object(p.jsx)("p",{className:"text-gray-700 font-bold text-xs pl-1",onDragOver:function(e){e.stopPropagation()},children:e.heading}),e.isDeveloper?Object(p.jsx)("div",{}):Object(p.jsx)("svg",{onClick:function(){return e.setNewTicket(!0)},xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 cursor-pointer rounded p-1 hover:bg-gray-200 hover:text-gray-700 delay-50 duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})},y=n(18),k=function(e){var t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],a=n[1];return Object(p.jsx)(y.c,{droppableId:e.id,children:function(t){return Object(p.jsxs)("div",Object(o.a)(Object(o.a)({},t.droppableProps),{},{ref:t.innerRef,id:e.id,className:"BOARD ".concat(e.className),style:e.style,children:[Object(p.jsx)(w,{heading:e.heading,setNewTicket:a,isDeveloper:e.isDeveloper}),r?Object(p.jsx)(B,{setNewTicket:a,status:e.status,data:e.data,columns:e.columns,setData:e.setData,setColumns:e.setColumns}):null,e.columns[e.status].ticketIds.map((function(t,n){return e.data[t]&&Object(p.jsx)(R,{index:n,status:e.status,ticket:e.data[t],data:e.data,columns:e.columns,setData:e.setData,setColumns:e.setColumns,users:e.users,isDeveloper:e.isDeveloper},t)})),t.placeholder]}))}})},N=Object(c.createContext)(),S=N.Provider,C=function(e){var t=e.children,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],s=r[1],o="localhost"===window.location.hostname?"http://127.0.0.1:8000":"https://minigunnr.pythonanywhere.com";return Object(p.jsx)(S,{value:{sidebarOpen:a,setSidebarOpen:s,apiUrl:o},children:t})},T=n(7),I=function(e){return Object(p.jsx)("div",{className:"".concat(e.showControls),children:Object(p.jsx)(T.b,{as:"div",className:"relative inline-block",children:function(t){var n=t.open;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsx)(T.b.Button,{className:"mr-1 border border-dashed border-gray-400 hover:bg-blue-300 hover:border-gray-700 hover:text-gray-700 rounded-lg inline-flex justify-center items-center h-8 w-8 text-sm font-medium text-".concat(e.menufg," bg-").concat(e.menubg," rounded-").concat(e.rounded," bg-opacity-20 hover:bg-opacity-30 ").concat(e.hover," focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"),children:e.icon})}),Object(p.jsx)(T.d,{show:n,as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(p.jsx)(T.b.Items,{static:!0,className:"absolute ".concat(e.alignMenu,"-0 w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"),children:e.menuItems.map((function(e,t){return Object(p.jsx)("div",{className:"px-1 py-1 ",children:e.map((function(e,t){return Object(p.jsx)(T.b.Item,{children:function(t){var n=t.active;return Object(p.jsx)("button",{className:"".concat(n?"bg-gray-300":"text-".concat(e.textfg?e.textfg:"gray-900")," group flex rounded-md items-center w-full px-2 py-2 text-sm"),onClick:e.onClick,children:e.title})}},t)}))},t)}))})})]})}})})},E=function(e){var t=Object(c.useContext)(N),n=[[{title:"Edit",onClick:function(){e.setEditable(!0)}}],[{title:"Delete",textfg:"red-500",onClick:function(){function n(){return(n=Object(j.a)(d.a.mark((function n(){var c,r,a,s,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="".concat(t.apiUrl,"/tickets/").concat(e.ticket_id,"/delete/"),(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Token "+localStorage.getItem("token")),a=new Request(c,{method:"DELETE",headers:r,mode:"cors"}),n.next=7,fetch(a);case 7:delete(s=Object(o.a)({},e.data))[e.ticket_id.toString()],e.setData(s),(i=e.columns[e.status].ticketIds).splice(e.index,1),e.setColumns(Object(o.a)(Object(o.a)({},e.columns),{},Object(v.a)({},e.status,Object(o.a)(Object(o.a)({},e.columns[e.status]),{},{ticketIds:i}))));case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}console.log(e.ticket_id),function(){n.apply(this,arguments)}()}}]];return Object(p.jsx)(I,{icon:A,menubg:"white",menufg:"gray-400",menuItems:n,alignMenu:"left",showControls:e.showControls})},A=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Object(p.jsx)("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})},z=function(e){return Object(p.jsx)("div",{className:"".concat(e.showControls),children:Object(p.jsx)(T.b,{as:"div",className:"relative inline-block",children:function(t){var n=t.open;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsx)(T.b.Button,{className:"mr-1 border border-dashed border-gray-400 hover:bg-blue-300 hover:border-gray-700 hover:text-gray-700 rounded-lg inline-flex justify-center items-center h-8 w-8 text-sm font-medium text-".concat(e.menufg," bg-").concat(e.menubg," rounded-").concat(e.rounded," bg-opacity-20 hover:bg-opacity-30 ").concat(e.hover," focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"),children:e.icon})}),Object(p.jsx)(T.d,{show:n,as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(p.jsx)(T.b.Items,{static:!0,className:"absolute ".concat(e.alignMenu,"-0 w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"),children:Object(p.jsxs)("div",{className:"px-1 py-1 ",children:[Object(p.jsx)(T.b.Item,{children:function(t){var n=t.active;return Object(p.jsx)("button",{className:"".concat(n?"bg-gray-300":"text-gray-900'"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),onClick:function(){return e.handleAssignDeveloper()},children:"None"})}}),e.menuItems.map((function(t,n){return Object(p.jsx)(T.b.Item,{children:function(n){var c=n.active;return Object(p.jsx)("button",{className:"".concat(c?"bg-gray-300":"text-".concat(t.textfg?t.textfg:"gray-900")," group flex rounded-md items-center w-full px-2 py-2 text-sm"),onClick:function(){return e.handleAssignDeveloper(t.id)},children:t.username})}},n)}))]})})})]})}})})},D=function(e){var t=Object(c.useContext)(N);return Object(p.jsx)(z,{handleAssignDeveloper:function(n){function c(){return(c=Object(j.a)(d.a.mark((function c(){var r,a,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r="".concat(t.apiUrl,"/tickets/").concat(e.ticket_id,"/update/"),(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Token "+localStorage.getItem("token")),s=new Request(r,{method:"PATCH",headers:a,mode:"cors",body:JSON.stringify({developer:n})}),c.next=7,fetch(s);case 7:case"end":return c.stop()}}),c)})))).apply(this,arguments)}void 0===n&&(n=null),function(){c.apply(this,arguments)}()},icon:P,menubg:"white",menufg:"gray-400",menuItems:e.users,alignMenu:"left",showControls:e.showControls})},P=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},R=function(e){var t=Object(c.useContext)(N),n=Object(c.useState)("hidden"),r=Object(b.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),l=Object(b.a)(i,2),u=l[0],h=l[1],x=Object(c.useRef)(),m=function(n){if("Enter"===n.code&&u){function c(){return(c=Object(j.a)(d.a.mark((function n(){var c,r,a,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="".concat(t.apiUrl,"/tickets/").concat(e.ticket.id,"/update/"),(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Token "+localStorage.getItem("token")),a=new Request(c,{method:"PATCH",headers:r,body:JSON.stringify({title:x.current.innerText}),mode:"cors"}),n.next=7,fetch(a);case 7:(s=Object(o.a)({},e.data))[e.ticket.id.toString()].title=x.current.innerText,e.setData(s);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}console.log(x.current.innerText),console.log(e.ticket.id),function(){c.apply(this,arguments)}(),h(!1)}};return Object(c.useEffect)((function(){var e=x.current;return e.addEventListener("keydown",m),function(){e.removeEventListener("keydown",m)}})),Object(p.jsx)(y.b,{draggableId:e.ticket.id.toString(),index:e.index,children:function(t){return Object(p.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,className:"TICKET p-3 w-full bg-white shadow-md rounded-lg mb-2 border text-gray-800 hover:shadow-lg hover:border-gray-300 flex flex-col",onMouseOver:function(){return s("inline")},onMouseOut:function(){s("hidden")},children:[Object(p.jsx)("div",{ref:x,contentEditable:u,suppressContentEditableWarning:"true",className:u?"cursor-text border":"",children:e.ticket.title}),u&&Object(p.jsx)("div",{className:"text-gray-300 text-xs",children:"Click on the text above to edit; Press ENTER to save"}),e.isDeveloper?null:Object(p.jsxs)("div",{className:"flex mt-4 h-8 items-center",children:[Object(p.jsx)(D,Object(o.a)({setEditable:h,ticket_id:e.ticket.id,showControls:a},e)),Object(p.jsx)(E,Object(o.a)({setEditable:h,ticket_id:e.ticket.id,showControls:a},e)),e.ticket.developer&&Object(p.jsxs)("div",{className:"".concat(a," text-xs italic"),children:["Assignee: ",Object(p.jsx)("strong",{children:e.ticket.assignee})]})]})]}))}})},L=n(8),H=n(17),U=function(e){return Object(p.jsx)("div",{className:"bg-indigo-900 ".concat("big"===e.size?"h-24 w-24":"h-12 w-12"," rounded-xl flex filter drop-shadow-lg my-auto"),children:Object(p.jsx)("div",{className:"m-auto",children:Object(p.jsx)(H.a,{className:"".concat("big"===e.iconsize?"h-14 w-14":"h-8 w-8"," text-indigo-100")})})})},F=function(e){return Object(p.jsx)(L.b,{to:e.to,children:Object(p.jsxs)("div",{className:"p-4 pt-5 h-48 max-w-min flex flex-col justify-start items-center rounded-3xl cursor-pointer hover:bg-purple-50 hover:pt-4 delay-50 duration-300",children:[Object(p.jsx)("div",{children:Object(p.jsx)(U,{size:e.size,iconsize:e.iconsize})}),Object(p.jsx)("div",{className:"text-gray-700 tracking-wider uppercase text-xs font-bold mt-2 text-center",children:e.title})]})})},M=function(){return Object(p.jsx)(L.b,{to:"/new/project",children:Object(p.jsxs)("div",{className:"p-4 pt-5 h-48 max-w-min flex flex-col justify-start items-center rounded-3xl cursor-pointer hover:bg-purple-50 hover:pt-4 delay-50 duration-300",children:[Object(p.jsx)("div",{className:"h-24 w-24 rounded-2xl flex border-2 border-gray-400 border-dashed",children:Object(p.jsx)("div",{className:"m-auto",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),Object(p.jsx)("div",{className:"text-gray-700 tracking-wider uppercase text-xs font-bold mt-2 text-center",children:"New Project"})]})})},q=function(e){return Object(p.jsx)("div",{className:"TOOLBAR border-t px-5 py-2 flex justify-between items-center text-xs min-w-min",children:Object(p.jsxs)("div",{className:"text-gray-500",children:["Created on ",e.created]})})},B=function(e){var t=Object(c.useContext)(N),n=Object(c.useRef)(),r=Object(l.h)().projectSlug,a=Object(c.useState)(""),s=Object(b.a)(a,2),i=s[0],u=s[1],h=function(t){n.current.contains(t.target)||e.setNewTicket(!1)};return Object(c.useEffect)((function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}})),Object(p.jsx)("div",{ref:n,children:Object(p.jsx)("div",{className:"TICKET p-3 w-full bg-white shadow-md rounded-lg mb-2 border text-gray-800 hover:shadow-lg hover:border-gray-300 flex flex-col",children:Object(p.jsxs)("form",{onSubmit:function(n){function c(){return(c=Object(j.a)(d.a.mark((function n(){var c,a,s,l,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="".concat(t.apiUrl,"/tickets/create/"),(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Token "+localStorage.getItem("token")),s=new Request(c,{method:"POST",headers:a,body:JSON.stringify({title:i,project:r,status:e.status,username:JSON.parse(localStorage.getItem("userInfo")).username}),mode:"cors"}),n.next=7,fetch(s);case 7:return l=n.sent,n.next=10,l.json();case 10:u=n.sent,e.setNewTicket(!1),console.log(Object(o.a)(Object(o.a)({},e.columns[e.status]),{},{ticketIds:u.order})),console.log(Object(o.a)(Object(o.a)({},e.data),{},Object(v.a)({},u.ticket.id,u.ticket))),e.setColumns(Object(o.a)(Object(o.a)({},e.columns),{},Object(v.a)({},e.status,Object(o.a)(Object(o.a)({},e.columns[e.status]),{},{ticketIds:u.order})))),e.setData(Object(o.a)(Object(o.a)({},e.data),{},Object(v.a)({},u.ticket.id,u.ticket)));case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}n.preventDefault(),function(){c.apply(this,arguments)}()},children:[Object(p.jsx)("input",{type:"text",className:"p-1 w-full",autoFocus:!0,required:!0,value:i,onChange:function(e){return u(e.target.value)}}),Object(p.jsx)("div",{className:"flex mt-4 h-8 justify-end",children:Object(p.jsx)("button",{type:"submit",className:"rounded bg-indigo-500 text-white px-2 hover:shadow-lg",children:"Save"})})]})})})},J=function(e){return Object(p.jsx)("div",{className:"",children:Object(p.jsx)(T.b,{as:"div",className:"relative inline-block",children:function(t){var n=t.open;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:Object(p.jsx)(T.b.Button,{className:"inline-flex justify-center h-7 w-7 text-sm font-medium ".concat("white"===e.menufg?"text-white":"text-gray-500"," ").concat("black"===e.menubg?"bg-black":"bg-white"," ").concat("full"===e.rounded?"rounded-full":"rounded-lg"," bg-opacity-20 hover:bg-opacity-30 ").concat(e.hover?"hover:bg-gray-300":null," focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"),children:e.icon})}),Object(p.jsx)(T.d,{show:n,as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(p.jsx)(T.b.Items,{static:!0,className:"absolute ".concat("right"===e.alignMenu?"right-0":"left-0"," w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"),children:e.menuItems.map((function(e,t){return Object(p.jsx)("div",{className:"px-1 py-1 ",children:e.map((function(e,t){return Object(p.jsx)(T.b.Item,{children:function(t){var n=t.active;return Object(p.jsx)("button",{className:"".concat(n?"bg-gray-300":"red"===e.textfg?"text-red-500":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),onClick:e.onClick,children:e.title})}},t)}))},t)}))})})]})}})})},_=function(){var e=Object(l.g)(),t=Object(c.useContext)(h),n=JSON.parse(localStorage.getItem("userInfo")).username,r=function(n){n.preventDefault(),t.logout(),e.push("/")},a=[[{title:"Logout",onClick:r}]];return Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)("div",{className:"mr-2 text-gray-500",children:n}),Object(p.jsx)(J,{icon:G,menubg:"black",menufg:"white",rounded:"full",menuItems:a,alignMenu:"right",handleLogout:r})]})},G=function(){return Object(p.jsx)(H.c,{className:"h-6 w-6 m-auto"})},K=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(b.a)(a,2),o=s[0],i=s[1],u=Object(l.g)(),h=Object(l.h)().projectSlug,x=Object(c.useContext)(N),m=[[{title:"Edit project details",onClick:function(){r(!0)}}],[{title:"Delete project",textfg:"red",onClick:function(){i(!0)}}]];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(J,{icon:W,menubg:"white",menufg:"gray-500",rounded:"lg",hover:!0,menuItems:m,alignMenu:"left"}),Object(p.jsx)(T.a,{open:o,onClose:function(){return i(!1)},className:"fixed z-10 inset-0 overflow-y-auto",children:Object(p.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[Object(p.jsx)(T.a.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),Object(p.jsxs)("div",{className:"bg-white rounded max-w-sm mx-auto z-20 p-6",children:[Object(p.jsx)(T.a.Title,{children:"Delete Project"}),Object(p.jsx)(T.a.Description,{children:"Do you really want to delete the project?"}),Object(p.jsx)("div",{className:"mb-2",children:"All the tickets and comments associated with the project will be gone."}),Object(p.jsx)("button",{onClick:function(e){function t(){return(t=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(x.apiUrl,"/projects/").concat(h,"/delete/"),(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Token "+localStorage.getItem("token")),c=new Request(t,{method:"DELETE",headers:n,mode:"cors"}),e.next=7,fetch(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),u.push("/home")},className:"rounded py-1 px-2 border border-red-500 bg-red-500 text-white mr-2",children:"Delete"}),Object(p.jsx)("button",{onClick:function(){return r(!1)},className:"rounded py-1 px-2 border border-gray-500 bg-white text-gray-500",children:"Cancel"})]})]})}),Object(p.jsx)(T.a,{open:n,onClose:function(){return r(!1)},className:"fixed z-10 inset-0 overflow-y-auto",children:Object(p.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[Object(p.jsx)(T.a.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),Object(p.jsxs)("div",{className:"bg-white rounded max-w-sm mx-auto z-20 p-6",children:[Object(p.jsx)(T.a.Title,{children:"Edit Project"}),Object(p.jsx)(T.a.Description,{children:"This is a demo modal that will contain a form to update the project details."}),Object(p.jsx)("div",{className:"mb-2"}),Object(p.jsx)("button",{onClick:function(){return r(!1)},className:"rounded py-1 px-2 border border-indigo-500 bg-indigo-500 text-white mr-2",children:"Save"}),Object(p.jsx)("button",{onClick:function(){return r(!1)},className:"rounded py-1 px-2 border border-gray-500 bg-white text-gray-500",children:"Cancel"})]})]})})]})},W=function(){return Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})},Y=function(e){var t="pb-1 border-b-2 border-white hover:border-gray-500 cursor-pointer text-gray-500 font-medium hover:text-gray-900",n="pb-1 border-b-2 border-indigo-500 cursor-pointer text-indigo-500 font-medium",c=window.location.pathname.split("/").includes("settings");return void 0!==e.projectSlug?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"flex flex-col pl-4 mt-auto",children:[Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)("div",{className:"font-bold text-lg text-gray-900 pr-2",children:e.title}),Object(p.jsx)(K,{})]}),Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)("div",{className:c?t:n,children:Object(p.jsx)(L.b,{to:"/".concat(e.projectSlug),children:"Board"})}),Object(p.jsx)("div",{className:"pl-5",children:Object(p.jsx)("div",{className:c?n:t,children:Object(p.jsx)(L.b,{to:"/".concat(e.projectSlug,"/settings"),children:"Settings"})})})]})]})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"my-auto pl-4 font-bold text-gray-900 text-lg",children:e.title})})},Q=function(e){var t=Object(l.i)().path;return Object(p.jsxs)("div",{className:"TOPBAR h-16 w-full flex items-center justify-between min-w-min",children:["/home"!==t&&Object(p.jsx)("div",{className:"h-16 w-16 flex",children:Object(p.jsx)("div",{className:"m-auto p-2 cursor-pointer rounded-lg delay-50 duration-300 hover:bg-gray-200 text-gray-400 hover:text-gray-500",children:Object(p.jsx)(L.b,{to:"/home",children:Object(p.jsx)(H.b,{className:"h-6 w-6"})})})}),Object(p.jsxs)("div",{className:"h-16 flex flex-1 ".concat("/home"===t&&"ml-2"),children:[Object(p.jsx)(U,{size:"small",iconsize:"small"}),Object(p.jsx)(Y,Object(o.a)({},e))]}),Object(p.jsx)("div",{className:"my-auto mr-4",children:Object(p.jsx)(_,{})})]})},V=function(){var e=Object(l.h)().projectSlug,t=Object(c.useState)("true"),n=Object(b.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)([]),i=Object(b.a)(s,2),u=i[0],h=i[1],x=Object(c.useState)({}),m=Object(b.a)(x,2),f=m[0],O=m[1],g=Object(c.useState)({}),w=Object(b.a)(g,2),S=w[0],C=w[1],T=Object(c.useState)({}),I=Object(b.a)(T,2),E=I[0],A=I[1],z=Object(c.useState)(!0),D=Object(b.a)(z,2),P=D[0],R=D[1],L=Object(c.useContext)(N),H=function(){var t=Object(j.a)(d.a.mark((function t(n,c,r,a){var s,o,i,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="".concat(L.apiUrl,"/move/from/").concat(n,"/").concat(c,"/to/").concat(r,"/").concat(a,"/"),(o=new Headers).append("Content-Type","application/json"),o.append("Authorization","Token "+localStorage.getItem("token")),i=new Request(s,{method:"PATCH",headers:o,body:JSON.stringify({project:e}),mode:"cors"}),t.next=7,fetch(i);case 7:if(l=t.sent,u={},!l.ok){t.next=15;break}return t.next=12,l.json();case 12:u=t.sent,t.next=16;break;case 15:u={response:"Invalid"};case 16:return t.abrupt("return",u);case 17:case"end":return t.stop()}}),t)})));return function(e,n,c,r){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n,c,r,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(L.apiUrl,"/is/user/developer/in/").concat(e),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),r=new Request(n,{method:"GET",headers:c,mode:"cors"}),t.next=7,fetch(r);case 7:return s=t.sent,t.next=10,s.json();case 10:o=t.sent,a(o);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,n,c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(L.apiUrl,"/users"),(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Token "+localStorage.getItem("token")),c=new Request(t,{method:"GET",headers:n,mode:"cors"}),e.next=7,fetch(c);case 7:return r=e.sent,e.next=10,r.json();case 10:a=e.sent,h(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e]),Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n,c,r,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(L.apiUrl,"/tickets/in/").concat(e),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),r=new Request(n,{method:"GET",headers:c,mode:"cors"}),t.next=7,fetch(r);case 7:return a=t.sent,t.next=10,a.json();case 10:s=t.sent,O(s.project),C(s.tickets),A(s.columns),R(!1);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);return Object(p.jsxs)("div",{className:"PROJECT flex flex-col w-full",children:[Object(p.jsx)(Q,{title:f.title,projectSlug:e}),Object(p.jsx)(q,{created:f.created}),Object(p.jsx)(y.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n&&(n.droppableId!==t.droppableId||n.index!==t.index)){var c=E[t.droppableId],r=E[n.droppableId],a={};if(c===r){var s=Array.from(c.ticketIds),i=s.splice(t.index,1),l=Object(b.a)(i,1)[0];s.splice(n.index,0,l);var u=Object(o.a)(Object(o.a)({},c),{},{ticketIds:s});a=Object(o.a)(Object(o.a)({},E),{},Object(v.a)({},u.id,u))}else{var d,j=Array.from(c.ticketIds),p=j.splice(t.index,1),h=Object(b.a)(p,1)[0],x=Object(o.a)(Object(o.a)({},c),{},{ticketIds:j}),m=Array.from(r.ticketIds);m.splice(n.index,0,h);var f=Object(o.a)(Object(o.a)({},r),{},{ticketIds:m});a=Object(o.a)(Object(o.a)({},E),{},(d={},Object(v.a)(d,x.id,x),Object(v.a)(d,f.id,f),d))}H(t.droppableId,t.index,n.droppableId,n.index),A(a)}},children:Object(p.jsx)("div",{id:"boards",className:"PROJECT flex bg-gray-50 shadow-inner overflow-x-auto",style:{height:"calc(100vh - 106px)"},children:P?null:["IB","EM","IP","TS","CO"].map((function(e,t){return Object(p.jsx)(k,{id:e,heading:E[e].title,data:S,columns:E,setData:C,setColumns:A,status:e,users:u,className:"flex flex-col p-1 w-1/5",isDeveloper:r},t)}))})})]})},X=n(21),Z=function(){var e=Object(c.useContext)(N),t=Object(c.useState)(null),n=Object(b.a)(t,2),r=n[0],a=n[1],s=Object(l.h)().projectSlug,o=Object(c.useState)(null),i=Object(b.a)(o,2),u=i[0],h=i[1],x=Object(c.useState)(!0),m=Object(b.a)(x,2),f=m[0],O=m[1],g=Object(c.useState)(null),v=Object(b.a)(g,2),w=v[0],y=v[1],k=Object(c.useState)(!0),S=Object(b.a)(k,2),C=S[0],T=S[1];Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n,c,r,a,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(e.apiUrl,"/users/").concat(s,"/"),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),r=new Request(n,{method:"GET",headers:c,mode:"cors"}),t.next=7,fetch(r);case 7:return a=t.sent,t.next=10,a.json();case 10:o=t.sent,h(o),O(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s&&function(){t.apply(this,arguments)}()}),[s]),Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n,c,r,a,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(e.apiUrl,"/teamusers/").concat(s,"/"),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),r=new Request(n,{method:"GET",headers:c,mode:"cors"}),t.next=7,fetch(r);case 7:return a=t.sent,t.next=10,a.json();case 10:o=t.sent,y(o),T(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s&&function(){t.apply(this,arguments)}()}),[s]);var I=function(e){a(e.target.value)},E=function(){var t=Object(j.a)(d.a.mark((function t(){var n,c,o,i,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return n="".concat(e.apiUrl,"/add/").concat(r,"/to/team/").concat(s,"/"),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),o=new Request(n,{method:"PUT",headers:c,mode:"cors"}),t.next=9,fetch(o);case 9:return i=t.sent,t.next=12,i.json();case 12:"OK"===(l=t.sent).response&&(y([].concat(Object(X.a)(w),[{id:l.id,username:r}])),h(u.filter((function(e){return e.id!==l.id})))),a(null);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(j.a)(d.a.mark((function t(){var n,c,o,i,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return n="".concat(e.apiUrl,"/remove/").concat(r,"/from/team/").concat(s,"/"),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),o=new Request(n,{method:"PUT",headers:c,mode:"cors"}),t.next=9,fetch(o);case 9:return i=t.sent,t.next=12,i.json();case 12:"OK"===(l=t.sent).response&&(h([].concat(Object(X.a)(u),[{id:l.id,username:r}])),y(w.filter((function(e){return e.id!==l.id})))),a(null);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z="border border-gray-500 px-4 rounded font-bold shadow-md m-1",D="border border-gray-500";return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"px-4",children:[Object(p.jsx)("p",{className:"font-bold text-gray-700 text-lg text-center mb-8",children:"User Management"}),Object(p.jsx)("div",{className:"flex content-between",children:Object(p.jsxs)("div",{className:"flex flex-1 justify-center ml-2 px-2",children:[Object(p.jsxs)("div",{className:"flex-initial",children:[Object(p.jsx)("p",{className:"font-bold text-gray-700",children:"Users Available"}),Object(p.jsx)("select",{className:D,onClick:I,name:"users",id:"users",size:"5",style:{width:200},children:f?Object(p.jsx)("option",{children:"Please select a project"}):u.map((function(e,t){return Object(p.jsx)("option",{value:e.username,children:e.username},t)}))})]}),Object(p.jsxs)("div",{className:"flex flex-col flex-none justify-center",children:[Object(p.jsx)("button",{className:z,onClick:E,children:">"}),Object(p.jsx)("button",{className:z,onClick:A,children:"<"})]}),Object(p.jsxs)("div",{className:"flex-initial",children:[Object(p.jsx)("p",{className:"font-bold text-gray-700",children:"Users in Project"}),Object(p.jsx)("select",{className:D,onClick:I,name:"team",id:"team",size:"5",style:{width:200},children:C?Object(p.jsx)("option",{children:"Please select a project"}):w.map((function(e,t){return Object(p.jsx)("option",{value:e.username,children:e.username},t)}))})]})]})})]})})},$=function(){var e=Object(l.h)().projectSlug,t=Object(c.useContext)(N),n=Object(c.useState)(null),r=Object(b.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)(!0),i=Object(b.a)(o,2),u=i[0],h=i[1];Object(c.useEffect)((function(){function n(){return(n=Object(j.a)(d.a.mark((function n(){var c,r,a,o,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="".concat(t.apiUrl,"/teamusers/").concat(e,"/"),(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Token "+localStorage.getItem("token")),a=new Request(c,{method:"GET",headers:r,mode:"cors"}),n.next=7,fetch(a);case 7:return o=n.sent,n.next=10,o.json();case 10:i=n.sent,s(i),h(!1);case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e&&function(){n.apply(this,arguments)}()}),[e]);var x=function(){var n=Object(j.a)(d.a.mark((function n(c){var r,o,i,l,u,j,b,p,h;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.target.value,o="".concat(t.apiUrl,"/toggle/").concat(r,"/to/").concat(e,"/as/admin/"),(i=new Headers).append("Content-Type","application/json"),i.append("Authorization","Token "+localStorage.getItem("token")),l=new Request(o,{method:"POST",headers:i,mode:"cors"}),n.next=8,fetch(l);case 8:return u=n.sent,n.next=11,u.json();case 11:j=n.sent,b=a.findIndex((function(e){return e.username===r})),p=a.find((function(e){return e.username===r})),"OK"===j.response&&(p.isAdmin=!p.isAdmin,(h=Object(X.a)(a))[b]=p),s(h);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"px-4",children:[Object(p.jsx)("p",{className:"font-bold text-gray-700 text-lg",children:"Role Management"}),Object(p.jsx)("p",{children:"Select the admins of the project from below list."}),Object(p.jsx)("div",{className:"flex",children:Object(p.jsxs)("div",{className:"flex-1",children:[a&&0===a.length?Object(p.jsxs)("p",{children:["No users added to this project yet. Please click ",Object(p.jsx)("strong",{children:"User Management"})," to add a few users."]}):null,!u&&a.map((function(e,t){return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",name:e.username,value:e.username,checked:e.isAdmin,onChange:x})," \xa0",e.username]})},t)}))]})})]})})},ee=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(b.a)(a,2),o=s[0],i=s[1],l=Object(c.useContext)(N);return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,n,c,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(l.apiUrl,"/projects"),(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Token "+localStorage.getItem("token")),c=new Request(t,{method:"GET",headers:n,mode:"cors"}),e.next=7,fetch(c);case 7:return a=e.sent,e.next=10,a.json();case 10:s=e.sent,r(s),i(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(p.jsx)(Q,{title:"Home"}),Object(p.jsxs)("div",{className:"m-auto",children:[Object(p.jsx)("div",{className:"text-gray-700 font-bold p-4 border-b border-gray-500 mx-10 mb-4",children:"My Projects"}),Object(p.jsxs)("div",{className:"flex mx-10 flex-wrap",children:[o?Object(p.jsx)("div",{children:"loading..."}):n.map((function(e,t){return Object(p.jsx)(F,{to:"/".concat(e.slug),title:e.title,size:"big",iconsize:"big"},t)})),Object(p.jsx)(M,{})]})]})]})},te=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(l.g)(),s=Object(c.useContext)(N),o=function(e){"Escape"===e.code&&a.push("/home")};Object(c.useEffect)((function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}));return Object(p.jsx)("div",{className:"flex h-screen",children:Object(p.jsxs)("form",{className:"m-auto bg-indigo-500 p-10 rounded-lg w-1/4",onSubmit:function(e){function t(){return(t=Object(j.a)(d.a.mark((function e(){var t,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(s.apiUrl,"/projects/"),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),r=new Request(t,{method:"POST",headers:c,body:JSON.stringify({title:n}),mode:"cors"}),e.next=7,fetch(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}(),a.push("/home")},children:[Object(p.jsx)(L.b,{to:"/home",className:"float-right font-xs",children:Object(p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(p.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Object(p.jsx)("div",{className:"text-white font-bold tracking-wider text-lg mb-4",children:"New Project"}),Object(p.jsx)("div",{className:"text-indigo text-xs mb-1",children:"Project Name"}),Object(p.jsx)("input",{className:"opacity-30 border-b border-transparent focus:outline-none focus:border-black focus:opacity-70 p-1 w-full",type:"text",name:"project",onChange:function(e){return r(e.target.value)},value:n,autoFocus:!0}),Object(p.jsx)("button",{className:"mt-4 bg-red-500 text-white p-1 w-full rounded focus:outline-none hover:bg-red-600 disabled:bg-indigo-300 disabled:text-gray-500",disabled:""===n,children:"Create Project"})]})})},ne=function(){var e=Object(l.h)().projectSlug,t=Object(l.i)(),n=t.path,r=t.url,a=Object(c.useState)({}),s=Object(b.a)(a,2),o=s[0],i=s[1],u=Object(c.useContext)(N);return Object(c.useEffect)((function(){function t(){return(t=Object(j.a)(d.a.mark((function t(){var n,c,r,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(u.apiUrl,"/tickets/in/").concat(e),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Token "+localStorage.getItem("token")),r=new Request(n,{method:"GET",headers:c,mode:"cors"}),t.next=7,fetch(r);case 7:return a=t.sent,t.next=10,a.json();case 10:s=t.sent,i(s.project);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),o&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Q,{title:o.title,projectSlug:e}),Object(p.jsx)(q,{created:o.created}),"true"===o.settings?Object(p.jsxs)("div",{className:"flex flex-row",children:[Object(p.jsxs)("div",{className:"flex flex-col flex-initial ml-4",children:[Object(p.jsx)(L.c,{to:"".concat(r,"/user/management"),activeClassName:"underline",children:"User Management"}),Object(p.jsx)(L.c,{to:"".concat(r,"/role/management"),activeClassName:"underline",children:"Role Management"})]}),Object(p.jsx)("div",{className:"flex-auto",children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{path:"".concat(n,"/user/management"),children:Object(p.jsx)(Z,{})}),Object(p.jsx)(l.b,{path:"".concat(n,"/role/management"),children:Object(p.jsx)($,{})})]})})]}):Object(p.jsx)("div",{className:"flex flex-row",children:"You can't change the project settings as a developer."})]})},ce=function(e){var t=e.children,n=Object(i.a)(e,["children"]),r=Object(c.useContext)(h);return Object(p.jsx)(l.b,Object(o.a)(Object(o.a)({},n),{},{render:function(){return r.isAuthenticated()?t:Object(p.jsx)(l.a,{to:"/"})}}))},re=function(){return Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/",children:Object(p.jsx)(g,{})}),Object(p.jsx)(ce,{path:"/home",children:Object(p.jsx)(ee,{})}),Object(p.jsx)(ce,{path:"/new/project",children:Object(p.jsx)(te,{})}),Object(p.jsx)(ce,{path:"/:projectSlug/settings",children:Object(p.jsx)(ne,{})}),Object(p.jsx)(ce,{path:"/:projectSlug",children:Object(p.jsx)(V,{})}),Object(p.jsx)(ce,{path:"/usermgt",children:Object(p.jsx)(Z,{})}),Object(p.jsx)(ce,{path:"/rolemgt",children:Object(p.jsx)($,{})})]})};var ae=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(re,{})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(L.a,{basename:"/bugtracker",children:Object(p.jsx)(m,{children:Object(p.jsx)(C,{children:Object(p.jsx)(ae,{})})})})}),document.getElementById("root")),se()}},[[42,1,2]]]);
//# sourceMappingURL=main.e17beccd.chunk.js.map